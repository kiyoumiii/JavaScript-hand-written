<!-- 1. 数组去重 -->
 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
 </head>
 <body>
    <script>
        //1. 使用Set 
        // 基于ES6 中的 Set 数据结构和扩展运算符
        // Set不允许重复的值，当添加重复的值，它会自动忽略。Set 本身是一个对象，不是一个数组，因此它的输出是类似 Set {1, 2, 3, 4} 的形式。
        // 扩展运算符（...）是 ES6 中引入的一个语法，用于将一个可迭代对象（如数组、Set、Map 等）展开为独立的元素。

        function uniqueArray1(arr) {
            return [...new Set(arr)];
        }
        

        // 2. 使用filter
        // filter 是 JavaScript 数组的一个方法，用于创建一个新数组，其中包含所有通过测试的元素。它接受一个回调函数，对数组中的每个元素执行这个回调函数，并根据回调函数的返回值（true 或 false）决定是否将该元素包含在新数组中。
        // indexOf 用于返回指定元素在数组中的第一个匹配项的索引，如果不存在则返回 -1。

        function uniqueArray2(arr) {
            return arr.filter((item, index) => arr.indexOf(item) === index);
        }


        // 3. 使用reduce
        // reduce方法的基本语法是：
        // array.reduce(callback(accumulator, currentValue[, index[, array]]) {
        // }, initialValue);

        function uniqueArray3(arr) {
            return arr.reduce((accumulator, current) => {
                if(! accumulator.includes(current)) {
                    accumulator.push(current);
                }
                return accumulator;
            }, []);
        }

        // 4. 使用新特性（如 nullish coalescing 和可选链）
        // 对较新的JavaScript版本（ECMAScript 2020 或更高），你可以使用一些新特性来更简洁地实现数组去重。但这并不一定会提高性能，只是代码可能更简洁。

        const array = [1, 2, 3, 4, 4, 3, 2, 1];
        const unique = uniqueArray3(array);
        console.log(unique);


        </script>
 </body>
 </html>

